"use strict";(self.webpackChunkassault_calculator=self.webpackChunkassault_calculator||[]).push([[335],{5929:function(r,t,n){var e=n(5818),i=n(7293),o=n(5438),E="CT-1701",a="Davith Elso",c="Diala Passil",h="Drokkatta",u="Fenn Signis",l="Jyn Odan",j="Onar Koma",s="Shyla Varad",Z="Tress Hacnua",f="Verena Talos",A="Vinto Hreeda",y="JFX-7";o.yc,o.yc,o.yc,i.$R,o.yc,o.yc,e._,e.Ek,o.yc,o.yc,e._,e.Ek,o.yc,o.yc,o.yc,o.yc,e.Ek,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,i.hM,i.$R,i.ZA,i.Ej,o.yc,o.yc,o.yc,o.yc,o.yc,i.Ej,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,i.hM,o.yc,o.yc,i.$R,o.yc,i.ZA,i.hM,o.yc,o.yc,e.Ek,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,o.yc,e.v4,o.yc,e.WC,o.yc,o.yc,o.yc,o.yc,i.Cj,o.yc,i.$R,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,e._,o.wC,o.wC,e.Ek,o.wC,o.wC,e.Ff,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,o.wC,i.Cj,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,o.wC,o.wC,e.Ek,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,i.hM,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,i.E5,o.yc,o.yc,o.wC,o.wC,o.yc,o.yc,e.NN,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,e.Ek,o.yc,o.wC,o.wC,o.yc,o.yc,o.wC,o.wC,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,i.Ej,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,e.Ek,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,e.Ek,o.yc,o.yc,e.Ek,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,e.R3,o.wC,o.wC,o.yc,o.yc,o.wC,o.wC,e.Ek,o.wC,o.wC,o.wC,o.wC,o.wC,o.wC,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.wC,o.wC,o.yc,o.yc,e._,o.yc,o.yc,o.wC,o.wC,e.Ek,o.wC,o.wC,i.$R,o.yc,o.yc,o.wC,o.wC,o.yc,o.yc,o.wC,o.wC,e.Ek,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,o.yc,o.wC,o.wC,o.yc,o.yc,e.hH},7898:function(r,t,n){n.d(t,{Ek:function(){return j},Nz:function(){return c},VT:function(){return a},_:function(){return s},dU:function(){return o},re:function(){return l},w:function(){return h},wn:function(){return E},zm:function(){return u}});var e,i=n(4942),o=0,E=1,a=2,c=3,h=4,u=5,l=6,j=0,s=1;e={},(0,i.Z)(e,j,"Attack"),(0,i.Z)(e,s,"Defense")},8808:function(r,t,n){var e=n(2960),i=n(7293);e.iX,e.LT,e.pN,e.Fj,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,e.iX,e.LT,e.iX,e.eB,e.iX,e.gi,e.pN,e.KN,e.pN,e.Fj,e.iX,e.gi,e.pN,e.eB,e.pN,e.KN,e.pN,e.eB,e.pN,e.KN,e.iX,e.H,e.iX,e.Fj},5818:function(r,t,n){n.d(t,{Ek:function(){return a},Ff:function(){return A},NN:function(){return l},R3:function(){return Z},TH:function(){return j},WC:function(){return u},Zb:function(){return h},_:function(){return c},hH:function(){return y},v4:function(){return s},wD:function(){return o},wL:function(){return E},wi:function(){return f}});var e,i=n(4942),o=0,E=1,a=0,c=1,h=2,u=3,l=4,j=5,s=6,Z=7,f=8,A=9,y=10;e={},(0,i.Z)(e,a,"attack"),(0,i.Z)(e,c,"defense"),(0,i.Z)(e,h,"all attack or all defense"),(0,i.Z)(e,u,"all attack and all defense"),(0,i.Z)(e,l,"all attack"),(0,i.Z)(e,j,"Turn 1 one-symbol attack die"),(0,i.Z)(e,s,"1 defense then 1 attack"),(0,i.Z)(e,Z,"Turn 1 attack die"),(0,i.Z)(e,f,""),(0,i.Z)(e,A,"black"),(0,i.Z)(e,y,"one-symbol attack")},5438:function(r,t,n){n.d(t,{wC:function(){return E},yc:function(){return c}});var e=n(5818),i=n(7293),o=n(2960),E="Imperial",a="Mercenary",c="Rebel",h="1 x 1 (small)",u="1 x 2 (large)",l="2 x 2 (large)",j="2 x 3 (massive)",s="Droid",Z="Spy",f="Trooper",A="Leader",y="Vehicle",p="Heavy Weapon",M="Hunter",w="Creature",v="Force User",C="Brawler",d="Guardian",R="Smuggler",$="Wookiee";i.E5,i.hM,i.$R,o.iX,i.E5,i.ZA,i.$R,i.$R,o.pN,i.E5,i.Ej,i.hM,i.$R,o.pN,e.Ek,i.E5,i.E5,i.Ej,i.hM,i.hM,o.pN,e.Ek,i.E5,i.Ej,i.hM,i.$R,o.pN,i.hM,i.$R,i.Ej,i.$R,i.Ej,i.hM,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.E5,i.E5,i.hM,i.hM,i.$R,o.iX,e._,i.E5,i.hM,i.$R,o.pN,i.E5,i.hM,i.$R,o.pN,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.E5,i.Ej,i.hM,i.$R,o.pN,i.E5,i.Ej,i.hM,i.$R,o.pN,i.E5,i.hM,i.ZA,o.iX,i.E5,i.Ej,i.$R,o.pN,i.E5,i.E5,o.pN,i.E5,i.Ej,i.hM,o.pN,i.E5,i.Ej,i.hM,o.pN,i.Cj,i.Ej,i.$R,o.pN,e._,i.Cj,i.Ej,i.$R,o.pN,e._,i.Cj,i.Ej,i.ZA,o.pN,i.Cj,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,i.Ej,i.E5,i.Ej,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.$R,i.$R,o.pN,i.E5,i.Ej,i.$R,i.$R,o.pN,e.Ek,i.E5,i.Ej,i.hM,o.iX,i.E5,i.Ej,i.hM,o.iX,e.Ek,i.E5,i.hM,i.$R,o.iX,i.E5,i.hM,i.$R,o.iX,i.E5,i.Cj,i.hM,i.ZA,i.$R,o.iX,i.E5,i.Ej,i.hM,i.$R,o.pN,i.E5,i.ZA,i.ZA,o.pN,e.Ek,i.E5,i.ZA,i.ZA,i.$R,o.pN,e.Ek,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,e.Ek,i.E5,i.Ej,i.ZA,o.pN,e.Ek,i.Cj,i.hM,i.ZA,i.$R,o.iX,i.ZA,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.Ej,i.hM,o.pN,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.Cj,i.hM,i.ZA,o.pN,i.E5,i.hM,i.ZA,o.pN,i.hM,i.Ej,i.E5,i.hM,i.ZA,i.$R,o.pN,i.E5,i.ZA,i.$R,o.pN,i.E5,i.hM,i.hM,o.iX,e.Ek,e._,i.E5,i.hM,i.hM,o.iX,e.Ek,i.Cj,i.ZA,i.ZA,o.pN,i.Cj,i.ZA,i.$R,o.pN,i.Cj,i.ZA,i.$R,o.pN,i.E5,i.Ej,i.Ej,i.$R,o.pN,e.Ek,e._,i.E5,i.Ej,i.Ej,i.$R,o.pN,e.Ek,e._,i.Cj,i.Ej,i.hM,i.ZA,o.pN,i.E5,o.pN,i.Ej,i.hM,i.ZA,o.iX,i.Cj,i.$R,i.$R,o.pN,i.Cj,i.$R,i.$R,o.pN,i.E5,i.Ej,i.ZA,o.iX,i.E5,i.Ej,i.ZA,o.iX,i.E5,i.hM,i.$R,o.iX,i.Cj,i.hM,i.ZA,o.iX,i.Cj,i.hM,i.ZA,o.iX,i.Ej,i.hM,i.ZA,o.pN,i.E5,i.hM,i.ZA,i.ZA,o.iX,i.E5,i.hM,i.ZA,i.ZA,o.iX,i.E5,i.ZA,i.ZA,i.$R,o.iX,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.hM,i.ZA,o.iX,i.E5,i.hM,i.ZA,o.iX,i.E5,i.Ej,i.$R,o.pN,i.ZA,o.iX,i.E5,i.Ej,i.$R,o.pN,i.ZA,o.iX,i.Cj,i.Ej,i.ZA,o.pN,i.E5,i.hM,i.hM,o.iX,i.E5,i.hM,i.hM,o.iX,i.E5,i.ZA,i.ZA,o.pN,i.E5,i.ZA,i.ZA,o.pN,e.wi,i.E5,i.Ej,i.ZA,o.pN,i.E5,i.Ej,i.ZA,o.pN,e.Ek,i.Cj,i.Ej,i.ZA,i.ZA,o.iX,e.Zb,i.E5,i.Ej,i.Ej,o.pN,e.Ek,i.E5,i.Ej,i.Ej,o.pN,e.Ek,i.Cj,i.ZA,i.$R,o.pN,i.Cj,i.ZA,i.$R,o.pN,i.E5,i.Ej,i.hM,i.$R,o.pN,i.Cj,o.pN,e._,i.E5,i.hM,i.ZA,o.iX,i.E5,i.Cj,i.Ej,i.hM,i.$R,o.pN,i.E5,i.Ej,i.ZA,i.ZA,o.pN,i.Cj,i.ZA,i.$R,o.iX,i.Cj,i.hM,i.ZA,o.iX,e._,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.E5,i.Ej,i.ZA,o.pN,i.hM,i.Ej,i.E5,i.Ej,i.ZA,o.pN,i.hM,i.Ej,i.Cj,i.ZA,i.$R,i.$R,o.iX,e.Ek,e.Ek,e.Ek,e.R3,i.E5,i.Ej,i.hM,i.ZA,o.pN,i.E5,i.hM,i.$R,o.iX,i.E5,i.Ej,i.ZA,o.pN,i.Cj,i.Ej,i.ZA,i.ZA,o.pN,i.E5,i.Ej,i.ZA,i.$R,o.pN,i.E5,i.$R,i.$R,o.iX,i.Cj,i.ZA,i.ZA,o.pN,i.E5,i.ZA,i.ZA,i.$R,o.iX,i.E5,i.Ej,i.Ej,i.ZA,o.pN,e.Ek,i.E5,i.ZA,i.$R,o.pN,e.Ek,e._,i.Cj,i.Ej,i.$R,i.$R,o.pN,i.Cj,i.Ej,i.hM,o.pN,i.Cj,i.Ej,i.ZA,i.$R,o.pN,i.Ej,i.ZA,i.$R,i.hM,i.$R,i.Cj,i.Ej,i.ZA,i.$R,o.iX,i.Cj,i.Ej,i.Ej,o.pN,i.E5,i.Ej,i.$R,o.pN,i.E5,i.Ej,i.$R,o.pN,i.E5,i.hM,i.ZA,i.$R,o.iX,i.E5,i.hM,i.ZA,i.$R,o.iX,i.Cj,i.hM,i.$R,o.pN,i.Cj,i.hM,i.$R,o.pN,i.Cj,i.Ej,i.$R,o.pN,i.Cj,i.Ej,i.$R,o.pN,i.Cj,i.Ej,i.ZA,i.ZA,o.pN,i.Cj,i.ZA,i.$R,o.pN,i.Cj,i.ZA,i.hM,i.$R,o.iX,e.Ek,e.Ek,i.E5,i.Ej,i.ZA,o.pN,i.Ej,i.ZA,i.hM,i.E5,i.hM,i.ZA,o.iX,i.E5,i.hM,i.ZA,o.iX,i.E5,i.hM,i.ZA,o.pN,i.ZA,i.hM,i.$R,o.pN,i.Ej,o.pN,i.E5,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.ZA,i.hM,i.Ej,i.ZA,i.hM,i.hM,i.Ej,e.Ek,i.Cj,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.E5,i.Ej,i.ZA,i.ZA,i.Ej,i.Ej,i.ZA,i.ZA,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.hM,i.ZA,i.E5,i.Ej,i.$R,i.ZA,i.Ej,i.ZA,i.ZA,i.Ej,i.hM,i.hM,i.Ej,i.hM,i.ZA,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.hM,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.hM,e._,i.E5,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.Ej,i.hM,i.Ej,i.E5,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.ZA,i.Ej,i.hM,i.ZA,i.hM,i.Ej,i.hM,i.E5,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.Ej,i.E5,i.ZA,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.ZA,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.$R,o.pN,i.ZA,o.iX,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.E5,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.Ej,i.$R,i.$R,i.ZA,i.$R,i.Ej,i.hM,i.Ej,i.hM,i.$R,i.hM,i.ZA,i.hM,i.hM,i.Cj,o.iX,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.E5,i.Ej,i.Ej,i.ZA,i.ZA,i.ZA,i.Ej,i.$R,i.Ej,i.Ej,i.hM,i.hM,i.ZA,i.Ej,i.hM,i.Cj,i.ZA,i.$R,i.ZA,i.ZA,i.Ej,i.Ej,i.ZA,i.hM,i.ZA,i.hM,i.Ej,i.hM,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.Ej,i.hM,i.Ej,i.Cj,i.ZA,i.Ej,i.ZA,i.ZA,i.hM,i.$R,i.hM,i.Ej,i.hM,i.ZA,i.hM,i.hM},2960:function(r,t,n){n.d(t,{Fj:function(){return A},H:function(){return Z},KN:function(){return w},LT:function(){return y},eB:function(){return M},gi:function(){return p},iX:function(){return E},pN:function(){return o}});var e=n(5818),i=n(7293),o="Ranged",E="Melee",a="Blaster",c="Pistol",h="Rifle",u="Projectile",l="Explosive",j="Staff",s="Heavy",Z="Blade",f="Fist",A="Energy",y="Balance",p="Impact",M="Sights",w="Barrel",v="Lightsaber";i.Ej,i.hM,i.Ej,i.Ej,i.$R,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.Ej,i.hM,i.ZA,i.hM,i.ZA,i.ZA,i.hM,i.$R,i.ZA,i.ZA,i.ZA,i.$R,i.ZA,i.$R,i.Ej,i.ZA,i.ZA,i.hM,i.Ej,i.$R,i.Ej,i.Ej,i.ZA,i.ZA,i.ZA,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.$R,i.ZA,i.ZA,i.Ej,i.$R,e.NN,i.hM,i.hM,i.Ej,i.$R,i.ZA,i.ZA,i.Ej,i.ZA,i.Ej,i.Ej,i.Ej,i.hM,i.Ej,i.$R,i.ZA,i.$R,e.Ek,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.hM,i.Ej,i.ZA,e.Ek,i.Ej,i.$R,i.Ej,i.$R,i.$R,i.ZA,i.ZA,i.$R,i.Ej,i.Ej,i.Ej,i.Ej,i.hM,i.ZA,i.ZA,i.ZA,i.$R,i.hM,i.ZA,i.Ej,i.Ej,i.hM,i.ZA,i.hM,i.ZA,i.$R,i.hM,i.$R,i.Ej,i.hM,i.ZA,i.hM,i.hM,i.$R,i.$R,i.hM,i.$R,i.ZA,i.$R,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.$R,e.TH,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.$R,i.hM,i.$R,i.$R,i.$R,i.ZA,i.ZA,i.ZA,i.ZA,i.Ej,i.ZA},86:function(r,t,n){n.d(t,{Z:function(){return j}});var e=n(9062),i=n(7762),o=n(5671),E=n(3144),a=n(2694),c=n(4436);function h(r){for(var t=0,n=r.length,e=0;e<n;e++)t+=r[n-1-e]*Math.pow(6,e);return t}var u=function(r){r[c.Nz]=Math.max(0,r[c.Nz]),r[c.w]=Math.max(0,r[c.w]),r[c.zm]=Math.max(0,r[c.zm]),r[c.re]=Math.max(0,r[c.re])},l=function(r){return r[c.wn]+r[c.VT]===1},j=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,0,0,0,0],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[[],[]],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;(0,o.Z)(this,r),this.dice=void 0,this.surgeabilities=void 0,this.bonus=void 0,this.distance=void 0,this.rerollabilities=void 0,this.rollId=void 0,this.postWebWorkerMessage=void 0,this.rerollOptions=void 0,this.rolls=void 0,this.probabilities=void 0,this.average=void 0,this.allDiceCombos=[],this.dice=t,this.surgeabilities=n,this.bonus=e,this.distance=i,this.rerollabilities=E,this.rollId=(null===a||void 0===a?void 0:a.length)&&h(a),this.rerollOptions=[],this.postWebWorkerMessage=c,this.genrolls(),this.average=this.calcaverage(this.probabilities)}return(0,E.Z)(r,[{key:"updateWebWorkerProgress",value:function(r){var t=r.stage,n=r.done,e=r.total;this.postWebWorkerMessage&&("rolls"===t?this.rerollabilities.some((function(r){return r.length}))?this.postWebWorkerMessage(3*n/e):this.postWebWorkerMessage(100*n/e):"rerolls"===t&&this.postWebWorkerMessage(3+97*n/e))}},{key:"id2byte",value:function(r){for(var t=[],n=r.toString(6),e=0;e<n.length;e++)t.push(parseInt(n[e]));for(;t.length<this.dice.length;)t.unshift(0);return t}},{key:"genrolls",value:function(){var r=this;this.rolls=(0,a.rp)(this.dice.length?Math.pow(6,this.dice.length):0,0);for(var t=0;t<this.rolls.length;t++){for(var n=this.bonus.slice(0),e=this.id2byte(t),i=0;i<e.length;i++){var o=e[i],E=this.dice[i];n=(0,a.ZK)(n,c.p7[E][o])}var h=this.rollresult(n);this.rolls[t]=h[c.wn],this.updateWebWorkerProgress({stage:"rolls",done:t,total:this.rolls.length})}var u=this.rerollabilities[c.Ek].filter((function(r){return r[c.wD]===c.TH||r[c.wD]===c.R3}));u.length&&(this.rerollabilities[c.Ek]=this.rerollabilities[c.Ek].filter((function(r){return r[c.wD]!==c.TH&&r[c.wD]!==c.R3})),u.forEach((function(t){return r.turndie(t[c.wD])}))),this.probabilities=(0,a.rp)(this.rolls.length,void 0!==this.rollId?0:this.rolls.length),void 0!==this.rollId&&(this.probabilities[this.rollId]=this.rolls.length,this.rerollOptions=[{avgDamage:this.rolls[this.rollId],dice:[],sides:[]}]);var l=new Set((0,a.w6)(this.dice.length));this.probabilities=this.genrerolls(this.probabilities,this.rerollabilities,l)}},{key:"genrerolls",value:function(r,t,n){var o,E=this,h=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t[c.Ek].length||u)o=c.Ek;else{if(!t[c._].length)return r;o=c._}if(!n.size)return r;var j=t[o];u&&(j=j.concat([[0,1]]));for(var s=new Array(t[o].length),Z=0;Z<j.length;Z++){var f=j[Z],A=f[c.wD]===c.Ek?c.KG:c.Yx,y=f[c.wL],p=void 0;if(f[c.wD]===c.Zb){p=[new Set,new Set];var M,w=(0,i.Z)(n);try{for(w.s();!(M=w.n()).done;){var v=M.value;p[this.dicetype(v)].add(v)}}catch(_){w.e(_)}finally{w.f()}}else if(f[c.wD]===c.WC)p=[new Set(n)];else if(f[c.wD]===c.NN){p=[new Set];var C,d=(0,i.Z)(n);try{for(d.s();!(C=d.n()).done;){var R=C.value;this.dicetype(R)===c.Ek&&p[0].add(R)}}catch(_){d.e(_)}finally{d.f()}}else{p=[],f[c.wD]===c.v4?(p=[new Set],A=c.Yx,y=1):f[c.wD]===c.wi?A=[].concat((0,e.Z)(c.KG),(0,e.Z)(c.Yx)):f[c.wD]===c.Ff?A=[c.E5]:f[c.wD]===c.hH&&(A=c.KG);for(var $=[new Set];$.length;){var N,g=$.pop(),b=(0,i.Z)(n);try{for(b.s();!(N=b.n()).done;){var k=N.value;if(A.includes(this.dice[k])&&!g.has(k)){var m=(0,a.G0)(g,k);(0,a.UQ)(p,m)||(p.push(m),m.size<y&&$.push(m))}}}catch(_){b.e(_)}finally{b.f()}}}s[Z]=p}for(var X=(0,a.rp)(this.rolls.length,0),S=r.filter((function(r){return r})).length,D=function(e){var i=r[e];if(i){for(var u=[],Z=[],f=E.dice.map((function(r,t){return l(c.p7[r][E.id2byte(e)[t]])?t:null})).filter((function(r){return null!==r})),A=s.map((function(r,t){return j[t][c.wD]===c.hH?r.filter((function(r){return Array.from(r).every((function(r){return f.includes(r)}))})):r})),y=0;y<A.length;y++)for(var p=A[y],M=0;M<p.length;M++){var w=E.reroll(e,p[M],i),v=t[o][y]&&t[o][y][c.wD]===c.v4;if(t[o].length>1||t[o===c.Ek?c._:c.Ek].length>0||v){var C=[t[0].slice(0),t[1].slice(0)];C[o].splice(y,1);var d=(0,a.e5)(n,p[M]);w=E.genrerolls(w,C,d,!0,v)}u.push(w),Z.push(E.calcaverage(w))}var R,$=E.reroll(e,new Set,i);if(t[o===c.Ek?c._:c.Ek].length>0){var N=t.slice(0);N[o]=[],$=E.genrerolls($,N,n,!0)}if(u.push($),Z.push(E.calcaverage($)),R=o===c.Ek?(0,a.Eb)(Z):(0,a._6)(Z),!h&&void 0!==E.rollId){var g=E.id2byte(e);E.rerollOptions=E.rerollOptions.concat(A.flatMap((function(r){return r})).map((function(r,t){return{avgDamage:Z[t],dice:Array.from(r).map((function(r){return E.dice[r]})),sides:Array.from(r).map((function(r){return g[r]})),set:r}})).filter((function(r,t,n){return t===n.findIndex((function(t){return(0,a.Qm)(t.set,r.set)}))}))),E.rerollOptions.sort((function(r,t){return o===c.Ek?t.avgDamage-r.avgDamage:r.avgDamage-t.avgDamage}))}X=(0,a.ZK)(X,u[R]),h||E.updateWebWorkerProgress({stage:"rerolls",done:e,total:S})}},T=0;T<r.length;T++)D(T);return X}},{key:"dicetype",value:function(r){var t=this.dice[r];return[c.E5,c.Cj].includes(t)?c._:c.Ek}},{key:"reroll",value:function(r,t,n){var e,o=[this.id2byte(r)],E=(0,i.Z)(t);try{for(E.s();!(e=E.n()).done;){for(var c=e.value,u=[],l=0;l<o.length;l++)for(var j=0;j<6;j++){var s=o[l].slice(0);s[c]=j,u.push(s)}o=u}}catch(y){E.e(y)}finally{E.f()}for(var Z=n/Math.pow(6,t.size),f=(0,a.rp)(this.rolls.length,0),A=0;A<o.length;A++)f[h(o[A])]=Z;return f}},{key:"rollresult",value:function(r){var t;if(u(r),r[c.VT]>r[c.w]){r[c.VT]-=r[c.w],r[c.w]=0,t=[r];for(var n=[new Set],e=[new Set];e.length;)for(var o=e.pop(),E=0;E<this.surgeabilities.length;E++)if(!o.has(E)){var h=(0,a.G0)(o,E);if(!(0,a.UQ)(n,h)){n.push(h);var l,j=r.slice(0),s=(0,i.Z)(h);try{for(s.s();!(l=s.n()).done;){var Z=l.value;j=(0,a.ZK)(j,this.surgeabilities[Z])}}catch(C){s.e(C)}finally{s.f()}j[c.VT]>=0&&(t.push(j),j[c.VT]&&e.push(h))}}}else r[c.w]-=r[c.VT],r[c.VT]=0,t=[r];var f,A=(0,i.Z)(t);try{for(A.s();!(f=A.n()).done;){var y=f.value;u(y),y[c.Nz]-=y[c.re],u(y),y[c.wn]>y[c.Nz]?(y[c.zm]||y[c.dU]<this.distance?y[c.wn]=0:y[c.wn]-=y[c.Nz],y[c.Nz]=0):(y[c.Nz]-=y[c.wn],y[c.wn]=0)}}catch(C){A.e(C)}finally{A.f()}var p,M=t[0],w=(0,i.Z)(t);try{for(w.s();!(p=w.n()).done;){var v=p.value;v[c.wn]>M[c.wn]&&(M=v)}}catch(C){w.e(C)}finally{w.f()}return M}},{key:"calcaverage",value:function(r){for(var t=0,n=0,e=0;e<r.length;e++)t+=this.rolls[e]*r[e],n+=r[e];return n&&t/n}},{key:"turndie",value:function(r){for(var t=this.rolls.slice(0),n=0;n<this.rolls.length;n++){for(var e=this.id2byte(n),i=[],o=0;o<e.length;o++){var E=e[o];if(this.dicetype(o)===c.Ek){var a=this.dice[o],u=c.p7[a][E];if(r!==c.TH||l(u))for(var j=0;j<6;j++){var s=e.slice(0);s[o]=j;var Z=this.rolls[h(s)];i.push(Z)}}}i.length&&(t[n]=Math.max.apply(Math,i))}this.rolls=t}}]),r}()},2694:function(r,t,n){n.d(t,{Eb:function(){return u},G0:function(){return E},Qm:function(){return s},UQ:function(){return c},ZK:function(){return j},_6:function(){return l},e5:function(){return a},rp:function(){return o},w6:function(){return h}});var e=n(9062),i=n(7762);function o(r,t){for(var n=Array(r),e=0;e<r;e++)n[e]=t;return n}function E(r,t){var n=new Set(r);return t instanceof Set?t.forEach((function(r){return n.add(r)})):n.add(t),n}function a(r,t){var n,e=new Set(r),o=(0,i.Z)(t);try{for(o.s();!(n=o.n()).done;){var E=n.value;e.delete(E)}}catch(a){o.e(a)}finally{o.f()}return e}function c(r,t){return r.some((function(r){return s(r,t)}))}function h(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Array(r),e=0;e<r;++e)n[e]=t+e;return n}function u(r){return r.indexOf(Math.max.apply(Math,(0,e.Z)(r)))}function l(r){return r.indexOf(Math.min.apply(Math,(0,e.Z)(r)))}function j(r,t){if(!r)return t;if(!t)return r;for(var n=new Array(r.length),e=0;e<r.length;e++)n[e]=r[e]+t[e];return n}function s(r,t){return r.size===t.size&&Array.from(r).every((function(r){return t.has(r)}))}},158:function(r,t,n){var e=n(86);t.Z=e.Z},9226:function(r,t,n){n(4436)},3897:function(r,t,n){n(4436)},907:function(r,t,n){function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}n.d(t,{Z:function(){return e}})},5057:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(907);function i(r){if(Array.isArray(r))return(0,e.Z)(r)}},5671:function(r,t,n){function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return e}})},3144:function(r,t,n){n.d(t,{Z:function(){return o}});var e=n(7343);function i(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(0,e.Z)(i.key),i)}}function o(r,t,n){return t&&i(r.prototype,t),n&&i(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}},7762:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(181);function i(r,t){var n="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=(0,e.Z)(r))||t&&r&&"number"===typeof r.length){n&&(r=n);var i=0,o=function(){};return{s:o,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,a=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return a=r.done,r},e:function(r){c=!0,E=r},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw E}}}}},4942:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(7343);function i(r,t,n){return(t=(0,e.Z)(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}},9199:function(r,t,n){function e(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}n.d(t,{Z:function(){return e}})},2786:function(r,t,n){function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return e}})},9062:function(r,t,n){n.d(t,{Z:function(){return a}});var e=n(5057),i=n(9199),o=n(181),E=n(2786);function a(r){return(0,e.Z)(r)||(0,i.Z)(r)||(0,o.Z)(r)||(0,E.Z)()}},5512:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(1002);function i(r,t){if("object"!==(0,e.Z)(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var i=n.call(r,t||"default");if("object"!==(0,e.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}},7343:function(r,t,n){n.d(t,{Z:function(){return o}});var e=n(1002),i=n(5512);function o(r){var t=(0,i.Z)(r,"string");return"symbol"===(0,e.Z)(t)?t:String(t)}},1002:function(r,t,n){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(r)}n.d(t,{Z:function(){return e}})},181:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(907);function i(r,t){if(r){if("string"===typeof r)return(0,e.Z)(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,e.Z)(r,t):void 0}}}}]);
//# sourceMappingURL=335.658a16ab.chunk.js.map