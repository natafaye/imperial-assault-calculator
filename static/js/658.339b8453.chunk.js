"use strict";(self.webpackChunkassault_calculator=self.webpackChunkassault_calculator||[]).push([[658],{7167:function(r,t,n){var e=n(4364),i=n(6113),E=n(442),o="CT-1701",h="Davith Elso",c="Diala Passil",a="Drokkatta",l="Fenn Signis",u="Jyn Odan",j="Onar Koma",Z="Shyla Varad",s="Tress Hacnua",f="Verena Talos",A="Vinto Hreeda",y="JFX-7";E.yc,E.yc,E.yc,i.$R,E.yc,E.yc,e._,e.Ek,E.yc,E.yc,e._,e.Ek,E.yc,E.yc,E.yc,E.yc,e.Ek,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,i.hM,i.$R,i.ZA,i.Ej,E.yc,E.yc,E.yc,E.yc,E.yc,i.Ej,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,i.hM,E.yc,E.yc,i.$R,E.yc,i.ZA,i.hM,E.yc,E.yc,e.Ek,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,E.yc,e.v4,E.yc,e.WC,E.yc,E.yc,E.yc,E.yc,i.Cj,E.yc,i.$R,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,e._,E.wC,E.wC,e.Ek,E.wC,E.wC,e.Ff,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,E.wC,i.Cj,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,E.wC,E.wC,e.Ek,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,i.hM,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,i.E5,E.yc,E.yc,E.wC,E.wC,E.yc,E.yc,e.NN,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,e.Ek,E.yc,E.wC,E.wC,E.yc,E.yc,E.wC,E.wC,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,i.Ej,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,e.Ek,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,e.Ek,E.yc,E.yc,e.Ek,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,e.R3,E.wC,E.wC,E.yc,E.yc,E.wC,E.wC,e.Ek,E.wC,E.wC,E.wC,E.wC,E.wC,E.wC,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.wC,E.wC,E.yc,E.yc,e._,E.yc,E.yc,E.wC,E.wC,e.Ek,E.wC,E.wC,i.$R,E.yc,E.yc,E.wC,E.wC,E.yc,E.yc,E.wC,E.wC,e.Ek,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,E.yc,E.wC,E.wC,E.yc,E.yc,e.hH},9230:function(r,t,n){n.d(t,{Ek:function(){return j},Nz:function(){return c},VT:function(){return h},_:function(){return Z},dU:function(){return E},re:function(){return u},w:function(){return a},wn:function(){return o},zm:function(){return l}});var e,i=n(4942),E=0,o=1,h=2,c=3,a=4,l=5,u=6,j=0,Z=1;e={},(0,i.Z)(e,j,"Attack"),(0,i.Z)(e,Z,"Defense")},5741:function(r,t,n){var e=n(2919),i=n(6113);e.iX,e.LT,e.pN,e.Fj,i.hM,i.$R,i.hM,i.ZA,i.hM,i.Ej,e.iX,e.LT,e.iX,e.eB,e.iX,e.gi,e.pN,e.KN,e.pN,e.Fj,e.iX,e.gi,e.pN,e.eB,e.pN,e.KN,e.pN,e.eB,e.pN,e.KN,e.iX,e.H,e.iX,e.Fj},442:function(r,t,n){n.d(t,{wC:function(){return o},yc:function(){return c}});var e=n(4364),i=n(6113),E=n(2919),o="Imperial",h="Mercenary",c="Rebel",a="1 x 1 (small)",l="1 x 2 (large)",u="2 x 2 (large)",j="2 x 3 (massive)",Z="Droid",s="Spy",f="Trooper",A="Leader",y="Vehicle",p="Heavy Weapon",M="Hunter",w="Creature",C="Force User",v="Brawler",R="Guardian",$="Smuggler",d="Wookiee";i.E5,i.hM,i.$R,E.iX,i.E5,i.ZA,i.$R,i.$R,E.pN,i.E5,i.Ej,i.hM,i.$R,E.pN,e.Ek,i.E5,i.E5,i.Ej,i.hM,i.hM,E.pN,e.Ek,i.E5,i.Ej,i.hM,i.$R,E.pN,i.hM,i.$R,i.Ej,i.$R,i.Ej,i.hM,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.E5,i.E5,i.hM,i.hM,i.$R,E.iX,e._,i.E5,i.hM,i.$R,E.pN,i.E5,i.hM,i.$R,E.pN,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.E5,i.Ej,i.hM,i.$R,E.pN,i.E5,i.Ej,i.hM,i.$R,E.pN,i.E5,i.hM,i.ZA,E.iX,i.E5,i.Ej,i.$R,E.pN,i.E5,i.E5,E.pN,i.E5,i.Ej,i.hM,E.pN,i.E5,i.Ej,i.hM,E.pN,i.Cj,i.Ej,i.$R,E.pN,e._,i.Cj,i.Ej,i.$R,E.pN,e._,i.Cj,i.Ej,i.ZA,E.pN,i.Cj,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,i.Ej,i.E5,i.Ej,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.$R,i.$R,E.pN,i.E5,i.Ej,i.$R,i.$R,E.pN,e.Ek,i.E5,i.Ej,i.hM,E.iX,i.E5,i.Ej,i.hM,E.iX,e.Ek,i.E5,i.hM,i.$R,E.iX,i.E5,i.hM,i.$R,E.iX,i.E5,i.Cj,i.hM,i.ZA,i.$R,E.iX,i.E5,i.Ej,i.hM,i.$R,E.pN,i.E5,i.ZA,i.ZA,E.pN,e.Ek,i.E5,i.ZA,i.ZA,i.$R,E.pN,e.Ek,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,e.Ek,i.E5,i.Ej,i.ZA,E.pN,e.Ek,i.Cj,i.hM,i.ZA,i.$R,E.iX,i.ZA,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.Ej,i.hM,E.pN,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.Cj,i.hM,i.ZA,E.pN,i.E5,i.hM,i.ZA,E.pN,i.hM,i.Ej,i.E5,i.hM,i.ZA,i.$R,E.pN,i.E5,i.ZA,i.$R,E.pN,i.E5,i.hM,i.hM,E.iX,e.Ek,e._,i.E5,i.hM,i.hM,E.iX,e.Ek,i.Cj,i.ZA,i.ZA,E.pN,i.Cj,i.ZA,i.$R,E.pN,i.Cj,i.ZA,i.$R,E.pN,i.E5,i.Ej,i.Ej,i.$R,E.pN,e.Ek,e._,i.E5,i.Ej,i.Ej,i.$R,E.pN,e.Ek,e._,i.Cj,i.Ej,i.hM,i.ZA,E.pN,i.E5,E.pN,i.Ej,i.hM,i.ZA,E.iX,i.Cj,i.$R,i.$R,E.pN,i.Cj,i.$R,i.$R,E.pN,i.E5,i.Ej,i.ZA,E.iX,i.E5,i.Ej,i.ZA,E.iX,i.E5,i.hM,i.$R,E.iX,i.Cj,i.hM,i.ZA,E.iX,i.Cj,i.hM,i.ZA,E.iX,i.Ej,i.hM,i.ZA,E.pN,i.E5,i.hM,i.ZA,i.ZA,E.iX,i.E5,i.hM,i.ZA,i.ZA,E.iX,i.E5,i.ZA,i.ZA,i.$R,E.iX,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.hM,i.ZA,E.iX,i.E5,i.hM,i.ZA,E.iX,i.E5,i.Ej,i.$R,E.pN,i.ZA,E.iX,i.E5,i.Ej,i.$R,E.pN,i.ZA,E.iX,i.Cj,i.Ej,i.ZA,E.pN,i.E5,i.hM,i.hM,E.iX,i.E5,i.hM,i.hM,E.iX,i.E5,i.ZA,i.ZA,E.pN,i.E5,i.ZA,i.ZA,E.pN,e.wi,i.E5,i.Ej,i.ZA,E.pN,i.E5,i.Ej,i.ZA,E.pN,e.Ek,i.Cj,i.Ej,i.ZA,i.ZA,E.iX,e.Zb,i.E5,i.Ej,i.Ej,E.pN,e.Ek,i.E5,i.Ej,i.Ej,E.pN,e.Ek,i.Cj,i.ZA,i.$R,E.pN,i.Cj,i.ZA,i.$R,E.pN,i.E5,i.Ej,i.hM,i.$R,E.pN,i.Cj,E.pN,e._,i.E5,i.hM,i.ZA,E.iX,i.E5,i.Cj,i.Ej,i.hM,i.$R,E.pN,i.E5,i.Ej,i.ZA,i.ZA,E.pN,i.Cj,i.ZA,i.$R,E.iX,i.Cj,i.hM,i.ZA,E.iX,e._,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.E5,i.Ej,i.ZA,E.pN,i.hM,i.Ej,i.E5,i.Ej,i.ZA,E.pN,i.hM,i.Ej,i.Cj,i.ZA,i.$R,i.$R,E.iX,e.Ek,e.Ek,e.Ek,e.R3,i.E5,i.Ej,i.hM,i.ZA,E.pN,i.E5,i.hM,i.$R,E.iX,i.E5,i.Ej,i.ZA,E.pN,i.Cj,i.Ej,i.ZA,i.ZA,E.pN,i.E5,i.Ej,i.ZA,i.$R,E.pN,i.E5,i.$R,i.$R,E.iX,i.Cj,i.ZA,i.ZA,E.pN,i.E5,i.ZA,i.ZA,i.$R,E.iX,i.E5,i.Ej,i.Ej,i.ZA,E.pN,e.Ek,i.E5,i.ZA,i.$R,E.pN,e.Ek,e._,i.Cj,i.Ej,i.$R,i.$R,E.pN,i.Cj,i.Ej,i.hM,E.pN,i.Cj,i.Ej,i.ZA,i.$R,E.pN,i.Ej,i.ZA,i.$R,i.hM,i.$R,i.Cj,i.Ej,i.ZA,i.$R,E.iX,i.Cj,i.Ej,i.Ej,E.pN,i.E5,i.Ej,i.$R,E.pN,i.E5,i.Ej,i.$R,E.pN,i.E5,i.hM,i.ZA,i.$R,E.iX,i.E5,i.hM,i.ZA,i.$R,E.iX,i.Cj,i.hM,i.$R,E.pN,i.Cj,i.hM,i.$R,E.pN,i.Cj,i.Ej,i.$R,E.pN,i.Cj,i.Ej,i.$R,E.pN,i.Cj,i.Ej,i.ZA,i.ZA,E.pN,i.Cj,i.ZA,i.$R,E.pN,i.Cj,i.ZA,i.hM,i.$R,E.iX,e.Ek,e.Ek,i.E5,i.Ej,i.ZA,E.pN,i.Ej,i.ZA,i.hM,i.E5,i.hM,i.ZA,E.iX,i.E5,i.hM,i.ZA,E.iX,i.E5,i.hM,i.ZA,E.pN,i.ZA,i.hM,i.$R,E.pN,i.Ej,E.pN,i.E5,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.ZA,i.hM,i.Ej,i.ZA,i.hM,i.hM,i.Ej,e.Ek,i.Cj,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.E5,i.Ej,i.ZA,i.ZA,i.Ej,i.Ej,i.ZA,i.ZA,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.hM,i.ZA,i.E5,i.Ej,i.$R,i.ZA,i.Ej,i.ZA,i.ZA,i.Ej,i.hM,i.hM,i.Ej,i.hM,i.ZA,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.hM,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.hM,e._,i.E5,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.Ej,i.hM,i.Ej,i.E5,i.Ej,i.ZA,i.$R,i.Ej,i.Ej,i.ZA,i.Ej,i.hM,i.ZA,i.hM,i.Ej,i.hM,i.E5,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.Ej,i.E5,i.ZA,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.ZA,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.$R,E.pN,i.ZA,E.iX,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.E5,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.E5,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.ZA,i.Ej,i.hM,i.Ej,i.$R,i.$R,i.ZA,i.$R,i.Ej,i.hM,i.Ej,i.hM,i.$R,i.hM,i.ZA,i.hM,i.hM,i.Cj,E.iX,i.Cj,i.Ej,i.Ej,i.ZA,i.Ej,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.hM,i.Ej,i.ZA,i.E5,i.Ej,i.Ej,i.ZA,i.ZA,i.ZA,i.Ej,i.$R,i.Ej,i.Ej,i.hM,i.hM,i.ZA,i.Ej,i.hM,i.Cj,i.ZA,i.$R,i.ZA,i.ZA,i.Ej,i.Ej,i.ZA,i.hM,i.ZA,i.hM,i.Ej,i.hM,i.Cj,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.ZA,i.hM,i.Ej,i.hM,i.Ej,i.hM,i.Ej,i.Cj,i.ZA,i.Ej,i.ZA,i.ZA,i.hM,i.$R,i.hM,i.Ej,i.hM,i.ZA,i.hM,i.hM},2919:function(r,t,n){n.d(t,{Fj:function(){return A},H:function(){return s},KN:function(){return w},LT:function(){return y},eB:function(){return M},gi:function(){return p},iX:function(){return o},pN:function(){return E}});var e=n(4364),i=n(6113),E="Ranged",o="Melee",h="Blaster",c="Pistol",a="Rifle",l="Projectile",u="Explosive",j="Staff",Z="Heavy",s="Blade",f="Fist",A="Energy",y="Balance",p="Impact",M="Sights",w="Barrel",C="Lightsaber";i.Ej,i.hM,i.Ej,i.Ej,i.$R,i.Ej,i.ZA,i.Ej,i.ZA,i.Ej,i.Ej,i.hM,i.ZA,i.hM,i.ZA,i.ZA,i.hM,i.$R,i.ZA,i.ZA,i.ZA,i.$R,i.ZA,i.$R,i.Ej,i.ZA,i.ZA,i.hM,i.Ej,i.$R,i.Ej,i.Ej,i.ZA,i.ZA,i.ZA,i.hM,i.hM,i.Ej,i.ZA,i.hM,i.$R,i.ZA,i.ZA,i.Ej,i.$R,e.NN,i.hM,i.hM,i.Ej,i.$R,i.ZA,i.ZA,i.Ej,i.ZA,i.Ej,i.Ej,i.Ej,i.hM,i.Ej,i.$R,i.ZA,i.$R,e.Ek,i.Ej,i.Ej,i.ZA,i.$R,i.Ej,i.ZA,i.Ej,i.hM,i.Ej,i.ZA,e.Ek,i.Ej,i.$R,i.Ej,i.$R,i.$R,i.ZA,i.ZA,i.$R,i.Ej,i.Ej,i.Ej,i.Ej,i.hM,i.ZA,i.ZA,i.ZA,i.$R,i.hM,i.ZA,i.Ej,i.Ej,i.hM,i.ZA,i.hM,i.ZA,i.$R,i.hM,i.$R,i.Ej,i.hM,i.ZA,i.hM,i.hM,i.$R,i.$R,i.hM,i.$R,i.ZA,i.$R,i.ZA,i.$R,i.hM,i.hM,i.Ej,i.$R,e.TH,i.ZA,i.Ej,i.ZA,i.$R,i.Ej,i.hM,i.Ej,i.hM,i.ZA,i.$R,i.hM,i.$R,i.$R,i.$R,i.ZA,i.ZA,i.ZA,i.ZA,i.Ej,i.ZA},5798:function(r,t,n){n.d(t,{Z:function(){return j}});var e=n(9062),i=n(7762),E=n(5671),o=n(3144),h=n(6612),c=n(2386);function a(r){for(var t=0,n=r.length,e=0;e<n;e++)t+=r[n-1-e]*Math.pow(6,e);return t}var l=function(r){r[h.Nz]=Math.max(0,r[h.Nz]),r[h.w]=Math.max(0,r[h.w]),r[h.zm]=Math.max(0,r[h.zm]),r[h.re]=Math.max(0,r[h.re])},u=function(r){return r[h.wn]+r[h.VT]===1},j=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,0,0,0,0],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[[],[]],h=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;(0,E.Z)(this,r),this.updateWebWorkerProgress=function(r){var t=r.stage,n=r.done,e=r.total;this.postWebWorkerMessage&&("rolls"===t?this.rerollabilities.some((function(r){return r.length}))?this.postWebWorkerMessage(3*n/e):this.postWebWorkerMessage(100*n/e):"rerolls"===t&&this.postWebWorkerMessage(3+97*n/e))},this.id2byte=function(r){for(var t=[],n=r.toString(6),e=0;e<n.length;e++)t.push(parseInt(n[e]));for(;t.length<this.dice.length;)t.unshift(0);return t},this.allDiceCombos=[],this.dice=t,this.surgeabilities=n,this.bonus=e,this.distance=i,this.rerollabilities=o,this.rollId=(null===h||void 0===h?void 0:h.length)&&a(h),this.rerollOptions=[],this.postWebWorkerMessage=c,this.genrolls(),this.average=this.calcaverage(this.probabilities)}return(0,o.Z)(r,[{key:"genrolls",value:function(){var r=this;this.rolls=(0,c.rp)(this.dice.length?Math.pow(6,this.dice.length):0,0);for(var t=0;t<this.rolls.length;t++){for(var n=this.bonus.slice(0),e=this.id2byte(t),i=0;i<e.length;i++){var E=e[i],o=this.dice[i];n=(0,c.ZK)(n,h.p7[o][E])}var a=this.rollresult(n);this.rolls[t]=a[h.wn],this.updateWebWorkerProgress({stage:"rolls",done:t,total:this.rolls.length})}var l=this.rerollabilities[h.Ek].filter((function(r){return r[h.wD]===h.TH||r[h.wD]===h.R3}));l.length&&(this.rerollabilities[h.Ek]=this.rerollabilities[h.Ek].filter((function(r){return r[h.wD]!==h.TH&&r[h.wD]!==h.R3})),l.forEach((function(t){return r.turndie(t[h.wD])}))),this.probabilities=(0,c.rp)(this.rolls.length,void 0!==this.rollId?0:this.rolls.length),void 0!==this.rollId&&(this.probabilities[this.rollId]=this.rolls.length,this.rerollOptions=[{avgDamage:this.rolls[this.rollId],dice:[]}]);var u=new Set((0,c.w6)(this.dice.length));this.probabilities=this.genrerolls(this.probabilities,this.rerollabilities,u)}},{key:"genrerolls",value:function(r,t,n){var E,o=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t[h.Ek].length||l)E=h.Ek;else{if(!t[h._].length)return r;E=h._}if(!n.size)return r;var j=t[E];l&&(j=j.concat([[0,1]]));for(var Z=new Array(t[E].length),s=0;s<j.length;s++){var f=j[s],A=f[h.wD]===h.Ek?h.KG:h.Yx,y=f[h.wL],p=void 0;if(f[h.wD]===h.Zb){p=[new Set,new Set];var M,w=(0,i.Z)(n);try{for(w.s();!(M=w.n()).done;){var C=M.value;p[this.dicetype(C)].add(C)}}catch(T){w.e(T)}finally{w.f()}}else if(f[h.wD]===h.WC)p=[new Set(n)];else if(f[h.wD]===h.NN){p=[new Set];var v,R=(0,i.Z)(n);try{for(R.s();!(v=R.n()).done;){var $=v.value;this.dicetype($)===h.Ek&&p[0].add($)}}catch(T){R.e(T)}finally{R.f()}}else{p=[],f[h.wD]===h.v4?(p=[new Set],A=h.Yx,y=1):f[h.wD]===h.wi?A=[].concat((0,e.Z)(h.KG),(0,e.Z)(h.Yx)):f[h.wD]===h.Ff?A=[h.E5]:f[h.wD]===h.hH&&(A=h.KG);for(var d=[new Set];d.length;){var N,g=d.pop(),b=(0,i.Z)(n);try{for(b.s();!(N=b.n()).done;){var k=N.value;if(A.includes(this.dice[k])&&!g.has(k)){var m=(0,c.G0)(g,k);(0,c.UQ)(p,m)||(p.push(m),m.size<y&&d.push(m))}}}catch(T){b.e(T)}finally{b.f()}}}Z[s]=p}for(var X=(0,c.rp)(this.rolls.length,0),S=r.filter((function(r){return r})).length,D=function(e){var i=r[e];if(i){for(var l=[],s=[],f=o.dice.map((function(r,t){return u(h.p7[r][o.id2byte(e)[t]])?t:null})).filter((function(r){return null!==r})),A=Z.map((function(r,t){return j[t][h.wD]===h.hH?r.filter((function(r){return Array.from(r).every((function(r){return f.includes(r)}))})):r})),y=0;y<A.length;y++)for(var p=A[y],M=0;M<p.length;M++){var w=o.reroll(e,p[M],i),C=t[E][y]&&t[E][y][h.wD]===h.v4;if(t[E].length>1||t[E===h.Ek?h._:h.Ek].length>0||C){var v=[t[0].slice(0),t[1].slice(0)];v[E].splice(y,1);var R=(0,c.e5)(n,p[M]);w=o.genrerolls(w,v,R,!0,C)}l.push(w),s.push(o.calcaverage(w))}var $,d=o.reroll(e,new Set,i);if(t[E===h.Ek?h._:h.Ek].length>0){var N=t.slice(0);N[E]=[],d=o.genrerolls(d,N,n,!0)}if(l.push(d),s.push(o.calcaverage(d)),$=E===h.Ek?(0,c.Eb)(s):(0,c._6)(s),!a&&void 0!==o.rollId){var g=o.id2byte(e);o.rerollOptions=o.rerollOptions.concat(A.flatMap((function(r){return r})).map((function(r,t){return{avgDamage:s[t],dice:Array.from(r).map((function(r){return o.dice[r]})),sides:Array.from(r).map((function(r){return g[r]})),set:r}})).filter((function(r,t,n){return t===n.findIndex((function(t){return(0,c.Qm)(t.set,r.set)}))}))),o.rerollOptions.sort((function(r,t){return E===h.Ek?t.avgDamage-r.avgDamage:r.avgDamage-t.avgDamage}))}X=(0,c.ZK)(X,l[$]),a||o.updateWebWorkerProgress({stage:"rerolls",done:e,total:S})}},_=0;_<r.length;_++)D(_);return X}},{key:"dicetype",value:function(r){var t=this.dice[r];return[h.E5,h.Cj].includes(t)?h._:h.Ek}},{key:"reroll",value:function(r,t,n){var e,E=[this.id2byte(r)],o=(0,i.Z)(t);try{for(o.s();!(e=o.n()).done;){for(var h=e.value,l=[],u=0;u<E.length;u++)for(var j=0;j<6;j++){var Z=E[u].slice(0);Z[h]=j,l.push(Z)}E=l}}catch(y){o.e(y)}finally{o.f()}for(var s=n/Math.pow(6,t.size),f=(0,c.rp)(this.rolls.length,0),A=0;A<E.length;A++)f[a(E[A])]=s;return f}},{key:"rollresult",value:function(r){var t;if(l(r),r[h.VT]>r[h.w]){r[h.VT]-=r[h.w],r[h.w]=0,t=[r];for(var n=[new Set],e=[new Set];e.length;)for(var E=e.pop(),o=0;o<this.surgeabilities.length;o++)if(!E.has(o)){var a=(0,c.G0)(E,o);if(!(0,c.UQ)(n,a)){n.push(a);var u,j=r.slice(0),Z=(0,i.Z)(a);try{for(Z.s();!(u=Z.n()).done;){var s=u.value;j=(0,c.ZK)(j,this.surgeabilities[s])}}catch(v){Z.e(v)}finally{Z.f()}j[h.VT]>=0&&(t.push(j),j[h.VT]&&e.push(a))}}}else r[h.w]-=r[h.VT],r[h.VT]=0,t=[r];var f,A=(0,i.Z)(t);try{for(A.s();!(f=A.n()).done;){var y=f.value;l(y),y[h.Nz]-=y[h.re],l(y),y[h.wn]>y[h.Nz]?(y[h.zm]||y[h.dU]<this.distance?y[h.wn]=0:y[h.wn]-=y[h.Nz],y[h.Nz]=0):(y[h.Nz]-=y[h.wn],y[h.wn]=0)}}catch(v){A.e(v)}finally{A.f()}var p,M=t[0],w=(0,i.Z)(t);try{for(w.s();!(p=w.n()).done;){var C=p.value;C[h.wn]>M[h.wn]&&(M=C)}}catch(v){w.e(v)}finally{w.f()}return M}},{key:"calcaverage",value:function(r){for(var t=0,n=0,e=0;e<r.length;e++)t+=this.rolls[e]*r[e],n+=r[e];return n&&t/n}},{key:"turndie",value:function(r){for(var t=this.rolls.slice(0),n=0;n<this.rolls.length;n++){for(var e=this.id2byte(n),i=[],E=0;E<e.length;E++){var o=e[E];if(this.dicetype(E)===h.Ek){var c=this.dice[E],l=h.p7[c][o];if(r!==h.TH||u(l))for(var j=0;j<6;j++){var Z=e.slice(0);Z[E]=j;var s=this.rolls[a(Z)];i.push(s)}}}i.length&&(t[n]=Math.max.apply(Math,i))}this.rolls=t}}]),r}()},1647:function(r,t,n){var e=n(5798);t.Z=e.Z},2386:function(r,t,n){n.d(t,{Eb:function(){return l},G0:function(){return o},Qm:function(){return Z},UQ:function(){return c},ZK:function(){return j},_6:function(){return u},e5:function(){return h},rp:function(){return E},w6:function(){return a}});var e=n(9062),i=n(7762);function E(r,t){for(var n=Array(r),e=0;e<r;e++)n[e]=t;return n}function o(r,t){var n=new Set(r);return t instanceof Set?t.forEach((function(r){return n.add(r)})):n.add(t),n}function h(r,t){var n,e=new Set(r),E=(0,i.Z)(t);try{for(E.s();!(n=E.n()).done;){var o=n.value;e.delete(o)}}catch(h){E.e(h)}finally{E.f()}return e}function c(r,t){return r.some((function(r){return Z(r,t)}))}function a(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Array(r),e=0;e<r;++e)n[e]=t+e;return n}function l(r){return r.indexOf(Math.max.apply(Math,(0,e.Z)(r)))}function u(r){return r.indexOf(Math.min.apply(Math,(0,e.Z)(r)))}function j(r,t){if(!r)return t;if(!t)return r;for(var n=new Array(r.length),e=0;e<r.length;e++)n[e]=r[e]+t[e];return n}function Z(r,t){return r.size===t.size&&(0,e.Z)(r).every((function(r){return t.has(r)}))}},1720:function(r,t,n){n(6612)},7453:function(r,t,n){n(6612)},907:function(r,t,n){function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}n.d(t,{Z:function(){return e}})},5057:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(907);function i(r){if(Array.isArray(r))return(0,e.Z)(r)}},5671:function(r,t,n){function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return e}})},3144:function(r,t,n){n.d(t,{Z:function(){return E}});var e=n(7343);function i(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,(0,e.Z)(i.key),i)}}function E(r,t,n){return t&&i(r.prototype,t),n&&i(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}},7762:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(181);function i(r,t){var n="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=(0,e.Z)(r))||t&&r&&"number"===typeof r.length){n&&(r=n);var i=0,E=function(){};return{s:E,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(r){throw r},f:E}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return h=r.done,r},e:function(r){c=!0,o=r},f:function(){try{h||null==n.return||n.return()}finally{if(c)throw o}}}}},4942:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(7343);function i(r,t,n){return(t=(0,e.Z)(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}},9199:function(r,t,n){function e(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}n.d(t,{Z:function(){return e}})},2786:function(r,t,n){function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return e}})},9062:function(r,t,n){n.d(t,{Z:function(){return h}});var e=n(5057),i=n(9199),E=n(181),o=n(2786);function h(r){return(0,e.Z)(r)||(0,i.Z)(r)||(0,E.Z)(r)||(0,o.Z)()}},5512:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(1002);function i(r,t){if("object"!==(0,e.Z)(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var i=n.call(r,t||"default");if("object"!==(0,e.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}},7343:function(r,t,n){n.d(t,{Z:function(){return E}});var e=n(1002),i=n(5512);function E(r){var t=(0,i.Z)(r,"string");return"symbol"===(0,e.Z)(t)?t:String(t)}},1002:function(r,t,n){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(r)}n.d(t,{Z:function(){return e}})},181:function(r,t,n){n.d(t,{Z:function(){return i}});var e=n(907);function i(r,t){if(r){if("string"===typeof r)return(0,e.Z)(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,e.Z)(r,t):void 0}}}}]);
//# sourceMappingURL=658.339b8453.chunk.js.map